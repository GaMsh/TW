# Самый Честный Прогноз

Прошивка для первого и второго (на печатной плате) поколения устройств проекта "Самый Честный Прогноз" - GaM_TW [kitkat]
Прошивка работает с сервером OsMo / bigapi.ru

Поддерживаемые датчики: 
  - BME-280
  - HTU21D/SHT21/Si7021

# Для начала работы:
  - Скрафтите себе плату
  - Воткните туда WEMoS D1 mini
  - Подключите датчики 
  - Прошейте устройство данной прошивкой
  - При включении устройство создаст точку доступа для настройки
  - Подключитесь к точке GaM_TW_***_SETUP и укажите данные вашей WiFi-сети на портале конфигураторе
    - если портал не открылся автоматически, то откройте в браузере адрес http://192.168.4.1/
  - Для достижения максимального качества данных датчики должны быть размещены в метре от здания в специальном метео-боксе

При запуске устройство проверяет наличие новой прошивки на сервере обновления и, если это необходимо, обновляется. Делается системный перезапуск раз в 8 часов (при отсутствии проблем с сетью).

Если, во время работы пропадает WiFi-сеть или сервер перестал отвечать, то данные записываются в локальный файл data.buff через LittleFS. После появления связи, они отправляются несколькими блоками на сервер и обрабатываются. При перезагрузке устройства файл проверяется на наличие содержимого и также отправляется. После успешной отправки он удаляется.

> Вопросы? Пишите gam@gamsh.ru с пометкой TW в теме.
